From 9d63304bcaf4829b5172b657d063d7db477a545e Mon Sep 17 00:00:00 2001
From: Su Yue <glass@fydeos.io>
Date: Mon, 29 Aug 2022 13:05:27 +0800
Subject: [PATCH 05/38] Remove bunch of unneeded tests

Signed-off-by: Su Yue <glass@fydeos.io>
---
 .../fydetab_duo-fydeos_fat.test_list.json     |  6 +-
 .../fydetab_duo-fydeos_grt.test_list.json     |  2 -
 .../fydetab_duo-fydeos_smt.test_list.json     |  1 -
 .../main_fydetab_duo-fydeos.test_list.json    | 61 +++++++++++++++++++
 4 files changed, 62 insertions(+), 8 deletions(-)
 create mode 100644 py/test/test_lists/main_fydetab_duo-fydeos.test_list.json

diff --git a/py/test/test_lists/fydetab_duo-fydeos_fat.test_list.json b/py/test/test_lists/fydetab_duo-fydeos_fat.test_list.json
index a0d9709a3..28bb13152 100644
--- a/py/test/test_lists/fydetab_duo-fydeos_fat.test_list.json
+++ b/py/test/test_lists/fydetab_duo-fydeos_fat.test_list.json
@@ -30,7 +30,6 @@
       "inherit": "FlattenGroup",
       "__comment": "Test plans for Final Assembly Test.  The FAT is the first stage of FATP after Final Assembly, before Run In or Final Functional Testing (FFT). We want to collect system information and quickly probe if peripherals are assembled correctly.",
       "subtests": [
-        "CheckSecdataVersion",
         "ModelSKU",
         "ChargerTypeDetection",
         "MemorySize",
@@ -40,10 +39,7 @@
         "Barrier",
         "VerifyRootPartition",
         "Barrier",
-        "BadBlocks",
-        "Barrier",
-        "FPSGroup",
-        "SetAPROHash"
+        "FPSGroup"
       ]
     },
     "FATStart": {
diff --git a/py/test/test_lists/fydetab_duo-fydeos_grt.test_list.json b/py/test/test_lists/fydetab_duo-fydeos_grt.test_list.json
index a1ab0b53e..aaea8e26c 100644
--- a/py/test/test_lists/fydetab_duo-fydeos_grt.test_list.json
+++ b/py/test/test_lists/fydetab_duo-fydeos_grt.test_list.json
@@ -70,8 +70,6 @@
     "GRTItems": {
       "inherit": "FlattenGroup",
       "subtests": [
-        "CheckSecdataVersion",
-        "ReSignReleaseKernel",
         "UploadRegCodes",
         "UploadZeroTouchIds",
         "ClearTPMOwnerRequest",
diff --git a/py/test/test_lists/fydetab_duo-fydeos_smt.test_list.json b/py/test/test_lists/fydetab_duo-fydeos_smt.test_list.json
index 8b1dc92e5..0417ba906 100644
--- a/py/test/test_lists/fydetab_duo-fydeos_smt.test_list.json
+++ b/py/test/test_lists/fydetab_duo-fydeos_smt.test_list.json
@@ -72,7 +72,6 @@
     "SMTItems": {
       "inherit": "FlattenGroup",
       "subtests": [
-        "CheckSecdataVersion",
         "SMTComponents",
         "SMTStress",
         "SMTThermalLoad",
diff --git a/py/test/test_lists/main_fydetab_duo-fydeos.test_list.json b/py/test/test_lists/main_fydetab_duo-fydeos.test_list.json
new file mode 100644
index 000000000..eb255951a
--- /dev/null
+++ b/py/test/test_lists/main_fydetab_duo-fydeos.test_list.json
@@ -0,0 +1,61 @@
+{
+  "inherit": [
+    "fydetab_duo-fydeos_smt.test_list",
+    "fydetab_duo-fydeos_fat.test_list",
+    "fydetab_duo-fydeos_run_in.test_list",
+    "fydetab_duo-fydeos_fft.test_list",
+    "fydetab_duo-fydeos_grt.test_list"
+  ],
+  "label": "Generic Chromebook",
+  "options": {
+    "skipped_tests": {
+      "PROTO" : [
+        "*.SMTBatterySysfs",
+        "*.VerifyRootPartition",
+        "*.BadBlocks",
+        "*.CheckSecdataVersion"
+      ],
+      "device.factory.end_SMT": [
+        "SMT"
+      ],
+      "device.factory.end_FAT": [
+        "FAT"
+      ],
+      "device.factory.end_RUNIN": [
+        "RunIn"
+      ],
+      "device.factory.end_FFT": [
+        "FFT"
+      ]
+    },
+    "ui_locale": "zh-CN"
+  },
+  "definitions": {
+    "FATP": {
+      "inherit": "FlattenGroup",
+      "locals": {
+        "factory_server_url": "eval! constants.default_factory_server_url"
+      },
+      "subtests": [
+        "FAT",
+        "RunIn",
+        "FFT",
+        "GRT"
+      ]
+    },
+    "SMT": {
+      "locals": {
+        "factory_server_url": "eval! constants.default_factory_server_url"
+      }
+    },
+    "SyncFactoryServer": {
+      "args": {
+        "server_url": "eval! locals.factory_server_url"
+      }
+    }
+  },
+  "tests": [
+    "SMT",
+    "FATP"
+  ]
+}
-- 
2.42.0

