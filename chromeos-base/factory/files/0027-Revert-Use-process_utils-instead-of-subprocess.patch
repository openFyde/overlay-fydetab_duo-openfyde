From 07247e705bdf44a1b16ea3f310457c22a7260dbb Mon Sep 17 00:00:00 2001
From: Su Yue <glass@fydeos.io>
Date: Sun, 18 Sep 2022 17:22:36 +0800
Subject: [PATCH 27/38] Revert "Use process_utils instead of subprocess"

This reverts commit 638a225d535ae68eca345f2494d0525470f9408a.
---
 py/gooftool/commands.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/py/gooftool/commands.py
+++ b/py/gooftool/commands.py
@@ -23,6 +23,7 @@
 from tempfile import gettempdir
 import threading
 import xmlrpc.client
+import subprocess
 
 from cros.factory.gooftool.common import ExecFactoryPar
 from cros.factory.gooftool.common import Shell
@@ -57,7 +58,6 @@
 from cros.factory.utils import sys_utils
 from cros.factory.utils import time_utils
 from cros.factory.utils.type_utils import Error
-from cros.factory.utils import process_utils
 
 from cros.factory.external.chromeos_cli import gsctool
 from cros.factory.external.chromeos_cli import vpd
@@ -1286,8 +1286,8 @@
   wipe_args = PrepareWipeArgs(options)
 
   # ExecFactoryPar('gooftool', WIPE_IN_PLACE, *wipe_args)
-  p = process_utils.CheckOutput("/usr/bin/fydeos_factory.sh mark_partition_bootable b", shell=True, log=True)
-  logging.info(p)
+  p = subprocess.Popen("/usr/bin/fydeos_factory.sh mark_partition_bootable b", stdout=subprocess.PIPE, shell=True)
+  logging.info(p.communicate())
 
 
 @Command('get_firmware_hash',
